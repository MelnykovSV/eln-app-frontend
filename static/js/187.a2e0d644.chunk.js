"use strict";(self.webpackChunkeln_app_frontend=self.webpackChunkeln_app_frontend||[]).push([[187],{54:function(e,t,n){n.d(t,{o:function(){return r}});var s=n(1413),a=n(3433),r=function(e){var t=(0,a.Z)(e.stages);if(t.some((function(e){return null===e._yield})))return e;t.reverse();var n=t.reduce((function(e,t){return e.length?[].concat((0,a.Z)(e),[t._yield/100*e[e.length-1]]):[].concat((0,a.Z)(e),[t._yield/100])}),[]);t.reverse(),n.reverse();var r=t.map((function(e,t){return(0,s.Z)((0,s.Z)({},e),{},{yieldCoefficient:n[t+1]||1})}));return(0,s.Z)((0,s.Z)({},e),{},{stages:r,totalYieldCoefficient:n[0]})}},2187:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var s,a=n(1413),r=n(4165),i=n(5861),l=n(9439),o=n(168),u=n(225).Z.div(s||(s=(0,o.Z)([""]))),c=n(8345),m=n(5228),f=n(3896),d=n(2791),p=n(7929),v=n(1243),h=n(3152),Z=n(3153),b=n(7689),x=n(5929),g=n(54),j=n(712),C=n(2628),P=n(765),k=n(4989),y=n(1419),N=n(184);function _(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var w=function(){var e=(0,b.UO)().schemeId,t=(0,Z.T)(),n=(0,Z.C)(C.nY),s=(0,g.o)(n),o=[{smiles:n.startingMaterial,mass:Number(((0,j.VP)(s.startingMaterial||"")*((s.mass||0)/(0,j.VP)(s.targetCompound||""))/s.totalYieldCoefficient).toFixed(2))}];n.stages.forEach((function(e,t){var n=e.attempts.find((function(e){return e.isOk}));0===t?null===n||void 0===n||n.reagents.forEach((function(e){return o.push({smiles:e.smiles,mass:Number(((0,j.VP)(e.smiles||"")*((s.mass||0)/(0,j.VP)(s.targetCompound||""))/s.totalYieldCoefficient*(e.equivalents||0)).toFixed(2))})})):null===n||void 0===n||n.reagents.forEach((function(e){return o.push({smiles:e.smiles,mass:Number(((0,j.VP)(e.smiles||"")*((s.mass||0)/(0,j.VP)(s.targetCompound||""))/s.stages[t-1].yieldCoefficient*(e.equivalents||0)).toFixed(2))})}))}));var w=(0,d.useState)(0),V=(0,l.Z)(w,2),E=V[0],O=V[1],S=(0,d.useState)([]),F=(0,l.Z)(S,2),I=F[0],Y=F[1];(0,d.useEffect)((function(){e&&e!==n._id&&t((0,x.Ks)(e))}),[e]),(0,d.useEffect)((function(){var e=o.map(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t.smiles){e.next=13;break}return n=(0,j.W$)(t.smiles),s=(0,p.y)(n),e.prev=3,e.next=6,v.Z.get("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/smiles/".concat(t.smiles,"/property/IUPACName/JSON"));case 6:return a=e.sent,e.abrupt("return",{smiles:t.smiles,mass:t.mass,formula:n,molWeight:s,compoundName:a.data.PropertyTable.Properties[0].IUPACName});case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{smiles:t.smiles,mass:t.mass,formula:n,molWeight:s,compoundName:""});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}());Promise.all(e).then((function(e){var t=e.filter((function(e){return void 0!==e}));Y(t)}))}),[n]);return(0,N.jsxs)(u,{className:"container",children:[(0,N.jsx)("div",{children:(0,N.jsxs)(m.Z,{value:E,onChange:function(e,t){O(t)},"aria-label":"basic tabs example",children:[(0,N.jsx)(f.Z,(0,a.Z)({label:"Scheme"},_(0))),(0,N.jsx)(f.Z,(0,a.Z)({label:"Reagents calculation"},_(1)))]})}),(0,N.jsxs)(h.Ok,{value:E,index:0,children:[(0,N.jsxs)(P.Z,{onChange:function(e){t((0,x.kD)({schemeId:n._id,status:e.target.value}))},value:n.status,row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",className:"radio-buttons-container",children:[(0,N.jsx)(k.Z,{value:"active",control:(0,N.jsx)(y.Z,{}),label:"Active"}),(0,N.jsx)(k.Z,{value:"success",control:(0,N.jsx)(y.Z,{}),label:"Success"}),(0,N.jsx)(k.Z,{value:"fail",control:(0,N.jsx)(y.Z,{}),label:"Fail"}),(0,N.jsx)(k.Z,{value:"chosen",control:(0,N.jsx)(y.Z,{}),label:"Chosen"})]}),(0,N.jsx)(c.g1,{schemeData:s})]}),(0,N.jsx)(h.Ok,{value:E,index:1,children:(0,N.jsx)(c.up,{reagents:I})})]})}}}]);
//# sourceMappingURL=187.a2e0d644.chunk.js.map